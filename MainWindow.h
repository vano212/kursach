#pragma once
#include <cstdlib>
#include <string>

namespace kursov {

	using namespace System::IO;
	using namespace System;
	using namespace System::ComponentModel;
	using namespace System::Collections;
	using namespace System::Windows::Forms;
	using namespace System::Data;
	using namespace System::Drawing;

	/// <summary>
	/// Ñâîäêà äëÿ MainWindow
	/// </summary>
	public ref class MainWindow : public System::Windows::Forms::Form
	{
	public:
		int language_now;
		MainWindow(int language)
		{
			InitializeComponent();
			//
			//TODO: äîáàâüòå êîä êîíñòğóêòîğà
			//
			this->Text = "Îñíîâíîå îêíî";
			this->language_now = language;
			if (language == 0)
			{
				this->ğóññêèéToolStripMenuItem->PerformClick();
			}
			else if (language == 1)
			{
				this->àíãëToolStripMenuItem->PerformClick();
			}
			else if (language == 2)
			{
				this->áåëîğñóêèéToolStripMenuItem->PerformClick();
			}
		}

	protected:
		/// <summary>
		/// Îñâîáîäèòü âñå èñïîëüçóåìûå ğåñóğñû.
		/// </summary>
		~MainWindow()
		{
			if (components)
			{
				delete components;
			}
		}

	protected:


	private: System::Windows::Forms::TextBox^ textBox2_1;
	private: System::Windows::Forms::TextBox^ textBox1_1;


	private: System::Windows::Forms::TextBox^ textBox_distance;

	private: System::Windows::Forms::Label^ label2;
	private: System::Windows::Forms::Button^ button2;
	private: System::Windows::Forms::MenuStrip^ menuStrip1;
	private: System::Windows::Forms::ToolStripMenuItem^ íàñòğîéêèToolStripMenuItem;
	private: System::Windows::Forms::ToolStripMenuItem^ öâåòÎêíàToolStripMenuItem;
	private: System::Windows::Forms::ToolStripMenuItem^ áèğşçîâûéToolStripMenuItem;
	private: System::Windows::Forms::ToolStripMenuItem^ êğàñíûéToolStripMenuItem;
	private: System::Windows::Forms::ToolStripMenuItem^ æ¸ëòûéToolStripMenuItem;
	private: System::Windows::Forms::ToolStripMenuItem^ áåëûéToolStripMenuItem;
	private: System::Windows::Forms::ToolStripMenuItem^ ÿçûêToolStripMenuItem;
	private: System::Windows::Forms::ToolStripMenuItem^ àíãëToolStripMenuItem;
	private: System::Windows::Forms::ToolStripMenuItem^ áåëîğñóêèéToolStripMenuItem;
	private: System::Windows::Forms::ToolStripMenuItem^ ğóññêèéToolStripMenuItem;

	private: System::Windows::Forms::Button^ button1;
	private: System::Windows::Forms::TextBox^ textBox1;
	private: System::Windows::Forms::TextBox^ textBox3;
	private: System::Windows::Forms::TextBox^ textBox2;
	private: System::Windows::Forms::TextBox^ textBox4;
	private: System::Windows::Forms::Label^ label3;
	private: System::Windows::Forms::Label^ label4;
	private: System::Windows::Forms::Label^ label5;
	private: System::Windows::Forms::Label^ label6;
	private: System::Windows::Forms::Label^ label7;
	private: System::Windows::Forms::Label^ label8;
	private: System::Windows::Forms::Label^ label9;
	private: System::Windows::Forms::Panel^ panel1;
	private: System::Windows::Forms::TextBox^ textBox5;
	private: System::Windows::Forms::Label^ label10;
	private: System::Windows::Forms::Label^ label11;
	private: System::Windows::Forms::TextBox^ textBox6;
	private: System::Windows::Forms::ToolStripMenuItem^ ñïğàâêàToolStripMenuItem;
	private: System::Windows::Forms::ToolStripMenuItem^ âûõîäToolStripMenuItem;

	private:
		/// <summary>
		/// Îáÿçàòåëüíàÿ ïåğåìåííàÿ êîíñòğóêòîğà.
		/// </summary>
		System::ComponentModel::Container ^components;

#pragma region Windows Form Designer generated code
		/// <summary>
		/// Òğåáóåìûé ìåòîä äëÿ ïîääåğæêè êîíñòğóêòîğà — íå èçìåíÿéòå 
		/// ñîäåğæèìîå ıòîãî ìåòîäà ñ ïîìîùüş ğåäàêòîğà êîäà.
		/// </summary>
		void InitializeComponent(void)
		{
			this->textBox2_1 = (gcnew System::Windows::Forms::TextBox());
			this->textBox1_1 = (gcnew System::Windows::Forms::TextBox());
			this->textBox_distance = (gcnew System::Windows::Forms::TextBox());
			this->label2 = (gcnew System::Windows::Forms::Label());
			this->button2 = (gcnew System::Windows::Forms::Button());
			this->menuStrip1 = (gcnew System::Windows::Forms::MenuStrip());
			this->íàñòğîéêèToolStripMenuItem = (gcnew System::Windows::Forms::ToolStripMenuItem());
			this->öâåòÎêíàToolStripMenuItem = (gcnew System::Windows::Forms::ToolStripMenuItem());
			this->áèğşçîâûéToolStripMenuItem = (gcnew System::Windows::Forms::ToolStripMenuItem());
			this->êğàñíûéToolStripMenuItem = (gcnew System::Windows::Forms::ToolStripMenuItem());
			this->æ¸ëòûéToolStripMenuItem = (gcnew System::Windows::Forms::ToolStripMenuItem());
			this->áåëûéToolStripMenuItem = (gcnew System::Windows::Forms::ToolStripMenuItem());
			this->ÿçûêToolStripMenuItem = (gcnew System::Windows::Forms::ToolStripMenuItem());
			this->àíãëToolStripMenuItem = (gcnew System::Windows::Forms::ToolStripMenuItem());
			this->áåëîğñóêèéToolStripMenuItem = (gcnew System::Windows::Forms::ToolStripMenuItem());
			this->ğóññêèéToolStripMenuItem = (gcnew System::Windows::Forms::ToolStripMenuItem());
			this->ñïğàâêàToolStripMenuItem = (gcnew System::Windows::Forms::ToolStripMenuItem());
			this->button1 = (gcnew System::Windows::Forms::Button());
			this->textBox1 = (gcnew System::Windows::Forms::TextBox());
			this->textBox3 = (gcnew System::Windows::Forms::TextBox());
			this->textBox2 = (gcnew System::Windows::Forms::TextBox());
			this->textBox4 = (gcnew System::Windows::Forms::TextBox());
			this->label3 = (gcnew System::Windows::Forms::Label());
			this->label4 = (gcnew System::Windows::Forms::Label());
			this->label5 = (gcnew System::Windows::Forms::Label());
			this->label6 = (gcnew System::Windows::Forms::Label());
			this->label7 = (gcnew System::Windows::Forms::Label());
			this->label8 = (gcnew System::Windows::Forms::Label());
			this->label9 = (gcnew System::Windows::Forms::Label());
			this->panel1 = (gcnew System::Windows::Forms::Panel());
			this->textBox5 = (gcnew System::Windows::Forms::TextBox());
			this->label10 = (gcnew System::Windows::Forms::Label());
			this->label11 = (gcnew System::Windows::Forms::Label());
			this->textBox6 = (gcnew System::Windows::Forms::TextBox());
			this->âûõîäToolStripMenuItem = (gcnew System::Windows::Forms::ToolStripMenuItem());
			this->menuStrip1->SuspendLayout();
			this->SuspendLayout();
			// 
			// textBox2_1
			// 
			this->textBox2_1->Location = System::Drawing::Point(286, 197);
			this->textBox2_1->Margin = System::Windows::Forms::Padding(4);
			this->textBox2_1->Name = L"textBox2_1";
			this->textBox2_1->Size = System::Drawing::Size(363, 22);
			this->textBox2_1->TabIndex = 4;
			// 
			// textBox1_1
			// 
			this->textBox1_1->Location = System::Drawing::Point(287, 150);
			this->textBox1_1->Margin = System::Windows::Forms::Padding(4);
			this->textBox1_1->Name = L"textBox1_1";
			this->textBox1_1->Size = System::Drawing::Size(363, 22);
			this->textBox1_1->TabIndex = 3;
			// 
			// textBox_distance
			// 
			this->textBox_distance->Location = System::Drawing::Point(286, 283);
			this->textBox_distance->Margin = System::Windows::Forms::Padding(4);
			this->textBox_distance->Name = L"textBox_distance";
			this->textBox_distance->Size = System::Drawing::Size(363, 22);
			this->textBox_distance->TabIndex = 7;
			// 
			// label2
			// 
			this->label2->AutoSize = true;
			this->label2->Location = System::Drawing::Point(315, 109);
			this->label2->Margin = System::Windows::Forms::Padding(4, 0, 4, 0);
			this->label2->Name = L"label2";
			this->label2->Size = System::Drawing::Size(304, 16);
			this->label2->TabIndex = 9;
			this->label2->Text = L"Äîáàâèòü ğàññòîÿíèå ìåæäó äâóìÿ çäàíèÿìè";
			// 
			// button2
			// 
			this->button2->Location = System::Drawing::Point(724, 150);
			this->button2->Margin = System::Windows::Forms::Padding(4);
			this->button2->Name = L"button2";
			this->button2->Size = System::Drawing::Size(100, 28);
			this->button2->TabIndex = 10;
			this->button2->Text = L"Ââîä";
			this->button2->UseVisualStyleBackColor = true;
			this->button2->Click += gcnew System::EventHandler(this, &MainWindow::button2_Click);
			// 
			// menuStrip1
			// 
			this->menuStrip1->ImageScalingSize = System::Drawing::Size(20, 20);
			this->menuStrip1->Items->AddRange(gcnew cli::array< System::Windows::Forms::ToolStripItem^  >(2) {
				this->íàñòğîéêèToolStripMenuItem,
					this->âûõîäToolStripMenuItem
			});
			this->menuStrip1->Location = System::Drawing::Point(0, 0);
			this->menuStrip1->Name = L"menuStrip1";
			this->menuStrip1->Size = System::Drawing::Size(1390, 28);
			this->menuStrip1->TabIndex = 16;
			this->menuStrip1->Text = L"menuStrip1";
			// 
			// íàñòğîéêèToolStripMenuItem
			// 
			this->íàñòğîéêèToolStripMenuItem->DropDownItems->AddRange(gcnew cli::array< System::Windows::Forms::ToolStripItem^  >(3) {
				this->öâåòÎêíàToolStripMenuItem,
					this->ÿçûêToolStripMenuItem, this->ñïğàâêàToolStripMenuItem
			});
			this->íàñòğîéêèToolStripMenuItem->Name = L"íàñòğîéêèToolStripMenuItem";
			this->íàñòğîéêèToolStripMenuItem->Size = System::Drawing::Size(98, 24);
			this->íàñòğîéêèToolStripMenuItem->Text = L"Íàñòğîéêè";
			// 
			// öâåòÎêíàToolStripMenuItem
			// 
			this->öâåòÎêíàToolStripMenuItem->DropDownItems->AddRange(gcnew cli::array< System::Windows::Forms::ToolStripItem^  >(4) {
				this->áèğşçîâûéToolStripMenuItem,
					this->êğàñíûéToolStripMenuItem, this->æ¸ëòûéToolStripMenuItem, this->áåëûéToolStripMenuItem
			});
			this->öâåòÎêíàToolStripMenuItem->Name = L"öâåòÎêíàToolStripMenuItem";
			this->öâåòÎêíàToolStripMenuItem->Size = System::Drawing::Size(224, 26);
			this->öâåòÎêíàToolStripMenuItem->Text = L"Öâåò îêíà";
			// 
			// áèğşçîâûéToolStripMenuItem
			// 
			this->áèğşçîâûéToolStripMenuItem->Name = L"áèğşçîâûéToolStripMenuItem";
			this->áèğşçîâûéToolStripMenuItem->Size = System::Drawing::Size(175, 26);
			this->áèğşçîâûéToolStripMenuItem->Text = L"Áèğşçîâûé";
			this->áèğşçîâûéToolStripMenuItem->Click += gcnew System::EventHandler(this, &MainWindow::áèğşçîâûéToolStripMenuItem_Click);
			// 
			// êğàñíûéToolStripMenuItem
			// 
			this->êğàñíûéToolStripMenuItem->Name = L"êğàñíûéToolStripMenuItem";
			this->êğàñíûéToolStripMenuItem->Size = System::Drawing::Size(175, 26);
			this->êğàñíûéToolStripMenuItem->Text = L"Êğàñíûé";
			this->êğàñíûéToolStripMenuItem->Click += gcnew System::EventHandler(this, &MainWindow::êğàñíûéToolStripMenuItem_Click);
			// 
			// æ¸ëòûéToolStripMenuItem
			// 
			this->æ¸ëòûéToolStripMenuItem->Name = L"æ¸ëòûéToolStripMenuItem";
			this->æ¸ëòûéToolStripMenuItem->Size = System::Drawing::Size(175, 26);
			this->æ¸ëòûéToolStripMenuItem->Text = L"Æ¸ëòûé";
			this->æ¸ëòûéToolStripMenuItem->Click += gcnew System::EventHandler(this, &MainWindow::æ¸ëòûéToolStripMenuItem_Click);
			// 
			// áåëûéToolStripMenuItem
			// 
			this->áåëûéToolStripMenuItem->Name = L"áåëûéToolStripMenuItem";
			this->áåëûéToolStripMenuItem->Size = System::Drawing::Size(175, 26);
			this->áåëûéToolStripMenuItem->Text = L"Áåëûé";
			this->áåëûéToolStripMenuItem->Click += gcnew System::EventHandler(this, &MainWindow::áåëûéToolStripMenuItem_Click);
			// 
			// ÿçûêToolStripMenuItem
			// 
			this->ÿçûêToolStripMenuItem->DropDownItems->AddRange(gcnew cli::array< System::Windows::Forms::ToolStripItem^  >(3) {
				this->àíãëToolStripMenuItem,
					this->áåëîğñóêèéToolStripMenuItem, this->ğóññêèéToolStripMenuItem
			});
			this->ÿçûêToolStripMenuItem->Name = L"ÿçûêToolStripMenuItem";
			this->ÿçûêToolStripMenuItem->Size = System::Drawing::Size(224, 26);
			this->ÿçûêToolStripMenuItem->Text = L"ßçûê";
			// 
			// àíãëToolStripMenuItem
			// 
			this->àíãëToolStripMenuItem->Name = L"àíãëToolStripMenuItem";
			this->àíãëToolStripMenuItem->Size = System::Drawing::Size(181, 26);
			this->àíãëToolStripMenuItem->Text = L"Àíãëèéñêèé";
			this->àíãëToolStripMenuItem->Click += gcnew System::EventHandler(this, &MainWindow::àíãëToolStripMenuItem_Click);
			// 
			// áåëîğñóêèéToolStripMenuItem
			// 
			this->áåëîğñóêèéToolStripMenuItem->Name = L"áåëîğñóêèéToolStripMenuItem";
			this->áåëîğñóêèéToolStripMenuItem->Size = System::Drawing::Size(181, 26);
			this->áåëîğñóêèéToolStripMenuItem->Text = L"Áåëîğññóêèé";
			this->áåëîğñóêèéToolStripMenuItem->Click += gcnew System::EventHandler(this, &MainWindow::áåëîğññóêèéToolStripMenuItem_Click);
			// 
			// ğóññêèéToolStripMenuItem
			// 
			this->ğóññêèéToolStripMenuItem->Name = L"ğóññêèéToolStripMenuItem";
			this->ğóññêèéToolStripMenuItem->Size = System::Drawing::Size(181, 26);
			this->ğóññêèéToolStripMenuItem->Text = L"Ğóññêèé";
			this->ğóññêèéToolStripMenuItem->Click += gcnew System::EventHandler(this, &MainWindow::ğóññêèéToolStripMenuItem_Click);
			// 
			// ñïğàâêàToolStripMenuItem
			// 
			this->ñïğàâêàToolStripMenuItem->Name = L"ñïğàâêàToolStripMenuItem";
			this->ñïğàâêàToolStripMenuItem->Size = System::Drawing::Size(224, 26);
			this->ñïğàâêàToolStripMenuItem->Text = L"Ñïğàâêà";
			this->ñïğàâêàToolStripMenuItem->Click += gcnew System::EventHandler(this, &MainWindow::ñïğàâêàToolStripMenuItem_Click);
			// 
			// button1
			// 
			this->button1->Location = System::Drawing::Point(707, 277);
			this->button1->Margin = System::Windows::Forms::Padding(4);
			this->button1->Name = L"button1";
			this->button1->Size = System::Drawing::Size(193, 28);
			this->button1->TabIndex = 18;
			this->button1->Text = L"Íàéòè êğàòêèé ïóòü";
			this->button1->UseVisualStyleBackColor = true;
			this->button1->Click += gcnew System::EventHandler(this, &MainWindow::button1_Click);
			// 
			// textBox1
			// 
			this->textBox1->Location = System::Drawing::Point(243, 376);
			this->textBox1->Margin = System::Windows::Forms::Padding(4);
			this->textBox1->Name = L"textBox1";
			this->textBox1->Size = System::Drawing::Size(138, 22);
			this->textBox1->TabIndex = 19;
			// 
			// textBox3
			// 
			this->textBox3->Location = System::Drawing::Point(979, 324);
			this->textBox3->Margin = System::Windows::Forms::Padding(4);
			this->textBox3->Name = L"textBox3";
			this->textBox3->Size = System::Drawing::Size(363, 22);
			this->textBox3->TabIndex = 21;
			// 
			// textBox2
			// 
			this->textBox2->Location = System::Drawing::Point(980, 277);
			this->textBox2->Margin = System::Windows::Forms::Padding(4);
			this->textBox2->Name = L"textBox2";
			this->textBox2->Size = System::Drawing::Size(363, 22);
			this->textBox2->TabIndex = 20;
			// 
			// textBox4
			// 
			this->textBox4->Location = System::Drawing::Point(980, 376);
			this->textBox4->Margin = System::Windows::Forms::Padding(4);
			this->textBox4->Multiline = true;
			this->textBox4->Name = L"textBox4";
			this->textBox4->Size = System::Drawing::Size(363, 64);
			this->textBox4->TabIndex = 22;
			// 
			// label3
			// 
			this->label3->AutoSize = true;
			this->label3->Location = System::Drawing::Point(103, 150);
			this->label3->Margin = System::Windows::Forms::Padding(4, 0, 4, 0);
			this->label3->Name = L"label3";
			this->label3->Size = System::Drawing::Size(136, 16);
			this->label3->TabIndex = 23;
			this->label3->Text = L"Ââåäèòå âåğøèíó 1:";
			// 
			// label4
			// 
			this->label4->AutoSize = true;
			this->label4->Location = System::Drawing::Point(99, 200);
			this->label4->Margin = System::Windows::Forms::Padding(4, 0, 4, 0);
			this->label4->Name = L"label4";
			this->label4->Size = System::Drawing::Size(136, 16);
			this->label4->TabIndex = 24;
			this->label4->Text = L"Ââåäèòå âåğøèíó 2:";
			// 
			// label5
			// 
			this->label5->AutoSize = true;
			this->label5->Location = System::Drawing::Point(13, 286);
			this->label5->Margin = System::Windows::Forms::Padding(4, 0, 4, 0);
			this->label5->Name = L"label5";
			this->label5->Size = System::Drawing::Size(242, 16);
			this->label5->TabIndex = 25;
			this->label5->Text = L"Ââåäèòå ğàññòîÿíèÿ ìåæäó äîìàìè:";
			// 
			// label6
			// 
			this->label6->AutoSize = true;
			this->label6->Location = System::Drawing::Point(82, 379);
			this->label6->Margin = System::Windows::Forms::Padding(4, 0, 4, 0);
			this->label6->Name = L"label6";
			this->label6->Size = System::Drawing::Size(132, 16);
			this->label6->TabIndex = 26;
			this->label6->Text = L"Êîëè÷åñòâî äîìîâ:";
			// 
			// label7
			// 
			this->label7->AutoSize = true;
			this->label7->Location = System::Drawing::Point(936, 280);
			this->label7->Margin = System::Windows::Forms::Padding(4, 0, 4, 0);
			this->label7->Name = L"label7";
			this->label7->Size = System::Drawing::Size(25, 16);
			this->label7->TabIndex = 27;
			this->label7->Text = L"îò:";
			// 
			// label8
			// 
			this->label8->AutoSize = true;
			this->label8->Location = System::Drawing::Point(936, 324);
			this->label8->Margin = System::Windows::Forms::Padding(4, 0, 4, 0);
			this->label8->Name = L"label8";
			this->label8->Size = System::Drawing::Size(26, 16);
			this->label8->TabIndex = 28;
			this->label8->Text = L"äî:";
			// 
			// label9
			// 
			this->label9->AutoSize = true;
			this->label9->Location = System::Drawing::Point(893, 402);
			this->label9->Margin = System::Windows::Forms::Padding(4, 0, 4, 0);
			this->label9->Name = L"label9";
			this->label9->Size = System::Drawing::Size(79, 16);
			this->label9->TabIndex = 29;
			this->label9->Text = L"ğåçóëüòàò:";
			// 
			// panel1
			// 
			this->panel1->Location = System::Drawing::Point(0, 474);
			this->panel1->Name = L"panel1";
			this->panel1->Size = System::Drawing::Size(1365, 463);
			this->panel1->TabIndex = 30;
			this->panel1->Paint += gcnew System::Windows::Forms::PaintEventHandler(this, &MainWindow::panel1_Paint);
			// 
			// textBox5
			// 
			this->textBox5->Location = System::Drawing::Point(979, 65);
			this->textBox5->Margin = System::Windows::Forms::Padding(4);
			this->textBox5->Name = L"textBox5";
			this->textBox5->Size = System::Drawing::Size(363, 22);
			this->textBox5->TabIndex = 31;
			// 
			// label10
			// 
			this->label10->AutoSize = true;
			this->label10->Location = System::Drawing::Point(772, 68);
			this->label10->Name = L"label10";
			this->label10->Size = System::Drawing::Size(189, 16);
			this->label10->TabIndex = 32;
			this->label10->Text = L"âğåìÿ çàòğà÷åííîå íà ïóòü";
			// 
			// label11
			// 
			this->label11->AutoSize = true;
			this->label11->Location = System::Drawing::Point(877, 112);
			this->label11->Name = L"label11";
			this->label11->Size = System::Drawing::Size(84, 16);
			this->label11->TabIndex = 34;
			this->label11->Text = L"Ğàññòîÿíèå";
			// 
			// textBox6
			// 
			this->textBox6->Location = System::Drawing::Point(980, 109);
			this->textBox6->Margin = System::Windows::Forms::Padding(4);
			this->textBox6->Name = L"textBox6";
			this->textBox6->Size = System::Drawing::Size(363, 22);
			this->textBox6->TabIndex = 33;
			// 
			// âûõîäToolStripMenuItem
			// 
			this->âûõîäToolStripMenuItem->Name = L"âûõîäToolStripMenuItem";
			this->âûõîäToolStripMenuItem->Size = System::Drawing::Size(67, 24);
			this->âûõîäToolStripMenuItem->Text = L"Âûõîä";
			this->âûõîäToolStripMenuItem->Click += gcnew System::EventHandler(this, &MainWindow::âûõîäToolStripMenuItem_Click);
			// 
			// MainWindow
			// 
			this->AutoScaleDimensions = System::Drawing::SizeF(8, 16);
			this->AutoScaleMode = System::Windows::Forms::AutoScaleMode::Font;
			this->ClientSize = System::Drawing::Size(1390, 949);
			this->Controls->Add(this->label11);
			this->Controls->Add(this->textBox6);
			this->Controls->Add(this->label10);
			this->Controls->Add(this->textBox5);
			this->Controls->Add(this->panel1);
			this->Controls->Add(this->label9);
			this->Controls->Add(this->label8);
			this->Controls->Add(this->label7);
			this->Controls->Add(this->label6);
			this->Controls->Add(this->label5);
			this->Controls->Add(this->label4);
			this->Controls->Add(this->label3);
			this->Controls->Add(this->textBox4);
			this->Controls->Add(this->textBox3);
			this->Controls->Add(this->textBox2);
			this->Controls->Add(this->textBox1);
			this->Controls->Add(this->button1);
			this->Controls->Add(this->menuStrip1);
			this->Controls->Add(this->button2);
			this->Controls->Add(this->label2);
			this->Controls->Add(this->textBox_distance);
			this->Controls->Add(this->textBox2_1);
			this->Controls->Add(this->textBox1_1);
			this->Margin = System::Windows::Forms::Padding(4);
			this->Name = L"MainWindow";
			this->Text = L"MainWindow";
			this->menuStrip1->ResumeLayout(false);
			this->menuStrip1->PerformLayout();
			this->ResumeLayout(false);
			this->PerformLayout();

		}

		void DrawGraph(Graphics^ g, int** graph, int size)
		{
			// Îïğåäåëèòå ïàğàìåòğû îòîáğàæåíèÿ ãğàôà, òàêèå êàê ğàçìåğ óçëîâ è öâåòà
			int nodeSize = 30;
			Color nodeColor = Color::Blue;
			Color edgeColor = Color::Black;
			Pen^ pen = gcnew Pen(edgeColor);
			SolidBrush^ brush = gcnew SolidBrush(nodeColor);

			// Âû÷èñëèòå ğàññòîÿíèå ìåæäó óçëàìè, èñõîäÿ èç ğàçìåğà ïàíåëè ğèñîâàíèÿ
			int distance = g->VisibleClipBounds.Width / (size + 1);

			// Îòîáğàçèòå óçëû ãğàôà
			for (int i = 0; i < size; i++)
			{
				int x = (i + 1) * distance;  // Âû÷èñëèòå êîîğäèíàòû óçëà
				int y = 150;  // Ôèêñèğîâàííàÿ êîîğäèíàòà óçëà ïî îñè Y
				g->FillEllipse(brush, x - nodeSize / 2, y - nodeSize / 2, nodeSize, nodeSize);  // Íàğèñóéòå óçåë
				g->DrawString((i + 1).ToString(), gcnew System::Drawing::Font("Arial", 12), Brushes::Black, x - 10, y - 10);
			}

			// Îòîáğàçèòå ñâÿçè ìåæäó óçëàìè
			for (int i = 0; i < size; i++)
			{
				for (int j = 0; j < size; j++)
				{
					if (graph[i][j] > 0)
					{
						int x1 = (i + 1) * distance;  // Âû÷èñëèòå êîîğäèíàòû íà÷àëüíîãî óçëà ñâÿçè
						int y1 = 150;  // Ôèêñèğîâàííàÿ êîîğäèíàòà íà÷àëüíîãî óçëà ïî îñè Y
						int x2 = (j + 1) * distance;  // Âû÷èñëèòå êîîğäèíàòû êîíå÷íîãî óçëà ñâÿçè
						int y2 = 250;  // Ôèêñèğîâàííàÿ êîîğäèíàòà êîíå÷íîãî óçëà ïî îñè Y
						g->DrawLine(pen, x1, y1, x2, y2);  // Íàğèñóéòå ñâÿçü
						g->DrawString((i + 1).ToString(), gcnew System::Drawing::Font("Arial", 12), Brushes::Black, x1 - 10, y1 - 10);
						g->DrawString((j + 1).ToString(), gcnew System::Drawing::Font("Arial", 12), Brushes::Black, x2 - 10, y2 - 10);
					}
				}
			}
		}
		void dijkstra(int** a, int SIZE, int begin_index, int end_index)
		{
			// Î÷èñòèòü òåêñòîâûå ïîëÿ ïåğåä çàïóñêîì àëãîğèòìà
			this->textBox4->Clear();
			this->textBox5->Clear();
			this->textBox6->Clear();

			const float speed = 1.5;  // Ñêîğîñòü äâèæåíèÿ (êì/÷)

			long long* d = new long long[SIZE];  // Ìàññèâ äëÿ õğàíåíèÿ ìèíèìàëüíûõ ğàññòîÿíèé
			long long* v = new long long[SIZE];  // Ìàññèâ äëÿ îòìåòêè ïîñåùåííûõ óçëîâ
			long long temp, minindex, min;

			// Èíèöèàëèçàöèÿ ìàññèâîâ
			for (int i = 0; i < SIZE; i++) {
				d[i] = 9223372036854775807;  // Çàäàòü íà÷àëüíîå ğàññòîÿíèå êàê ìàêñèìàëüíîå
				v[i] = 1;  // Îòìåòèòü âñå óçëû êàê íåïîñåùåííûå
			}

			d[begin_index] = 0;  // Íà÷àëüíîå ğàññòîÿíèå äî íà÷àëüíîãî óçëà ğàâíî 0

			do {
				minindex = 9223372036854775807;
				min = 9223372036854775807;

				// Íàéòè óçåë ñ ìèíèìàëüíûì ğàññòîÿíèåì èç íåïîñåùåííûõ óçëîâ
				for (int i = 0; i < SIZE; i++) {
					if ((v[i] == 1) && (d[i] < min)) {
						min = d[i];
						minindex = i;
					}
				}

				// Åñëè íàéäåííûé óçåë íå ğàâåí ìàêñèìàëüíîìó çíà÷åíèş
				if (minindex != 9223372036854775807) {
					// Îáíîâèòü ğàññòîÿíèÿ äî ñîñåäíèõ óçëîâ ÷åğåç òåêóùèé óçåë
					for (int i = 0; i < SIZE; i++) {
						if (a[minindex][i] > 0) {
							temp = min + a[minindex][i];
							if (temp < d[i]) {
								d[i] = temp;
							}
						}
					}
					v[minindex] = 0;  // Ïîìåòèòü óçåë êàê ïîñåùåííûé
				}
			} while (minindex < 9223372036854775807);

			long long* ver = new long long[SIZE];  // Ìàññèâ äëÿ õğàíåíèÿ ïóòè
			ver[0] = end_index;  // Íà÷àòü ñ êîíå÷íîãî óçëà
			int k = 1;
			int weight = d[end_index];  // Ïîëó÷èòü îáùåå ğàññòîÿíèå ïóòè
			this->textBox6->Text = Convert::ToString(weight) + " m.    ( " + Convert::ToString(weight / 1000.0) + " êì. )";

			// Ğàññ÷èòàòü âğåìÿ â ñåêóíäàõ è ïğåîáğàçîâàòü â ôîğìàò ÷àñû:ìèíóòû:ñåêóíäû
			int timeInSeconds = static_cast<int>(weight / speed);
			int hours = timeInSeconds / 3600;
			int minutes = (timeInSeconds % 3600) / 60;
			int seconds = timeInSeconds % 60;
			this->textBox5->Text = hours.ToString() + " ÷àñ : " + minutes.ToString() + " ìèí : " + seconds.ToString() + " ñ";

			// Âîññòàíîâëåíèå ïóòè îò êîíå÷íîãî óçëà äî íà÷àëüíîãî
			while (end_index != begin_index) {
				for (int i = 0; i < SIZE; i++) {
					if (a[i][end_index] != 0) {
						int temp = weight - a[i][end_index];
						if (temp == d[i]) {
							weight = temp;
							end_index = i;
							ver[k] = i;
							k++;
						}
					}
				}
			}

			// Âûâîä ïóòè â îáğàòíîì ïîğÿäêå
			for (int i = k - 1; i >= 0; i--) {
				this->textBox4->Text += Convert::ToString(" " + (ver[i] + 1));
			}

			// Îñâîáîæäåíèå âûäåëåííîé ïàìÿòè
			delete[] d;
			delete[] v;
			delete[] ver;
		}

#pragma endregion
	String^ filename = "file_with_Coordinates.txt";
	private: System::Void áèğşçîâûéToolStripMenuItem_Click(System::Object^ sender, System::EventArgs^ e)
	{
		this->BackColor = System::Drawing::Color::Turquoise; //äëÿ áåğşçîâîãî öâåòà
	}
	private: System::Void êğàñíûéToolStripMenuItem_Click(System::Object^ sender, System::EventArgs^ e)
	{
		this->BackColor = System::Drawing::Color::Red; //äëÿ êğàñíîãî öâåòà
	}
	private: System::Void æ¸ëòûéToolStripMenuItem_Click(System::Object^ sender, System::EventArgs^ e)
	{
		this->BackColor = System::Drawing::Color::Yellow; //äëÿ æåëòîãî öâåòà
	}
	private: System::Void áåëûéToolStripMenuItem_Click(System::Object^ sender, System::EventArgs^ e)
	{
		this->BackColor = System::Drawing::Color::White; //äëÿ áåëîãî öâåòà
	}
	private: System::Void ğóññêèéToolStripMenuItem_Click(System::Object^ sender, System::EventArgs^ e)
	{
		this->Text = "Îñíîâíîå îêíî";
		language_now = 0;
		this->label2->Text = "Äîáàâèòü ğàññòîÿíèå ìåæäó äâóìÿ çäàíèÿìè";
		this->label3->Text = "Ââåäèòå âåğøèíó 1:";
		this->label4->Text = "Ââåäèòå âåğøèíó 2:";
		this->label5->Text = "Ââåäèòå ğàññòîÿíèÿ ìåæäó äîìàìè:";
		this->label6->Text = "Êîëè÷åñòâî äîìîâ:";
		this->label7->Text = "îò:";
		this->label8->Text = "äî:";
		this->label9->Text = "ğåçóëüòàò:";
		this->label10->Text = "âğåìÿ çàòğà÷åííîå íà ïóòü";
		this->label11->Text = "Ğàññòîÿíèå";
		this->button1->Text = "Íàéòè êğàòêèé ïóòü";
		this->button2->Text = "Ââîä";
		this->áèğşçîâûéToolStripMenuItem->Text = "Áèğşçîâûé";
		this->êğàñíûéToolStripMenuItem->Text = "Êğàñíûé";
		this->æ¸ëòûéToolStripMenuItem->Text = "Æ¸ëòûé";
		this->áåëûéToolStripMenuItem->Text = "Áåëûé";
		this->öâåòÎêíàToolStripMenuItem->Text = "Öâåò îêíà";
		this->ÿçûêToolStripMenuItem->Text = "ßçûê";
		this->íàñòğîéêèToolStripMenuItem->Text = "Íàñòğîéêè";
		this->àíãëToolStripMenuItem->Text = "Àíãëèéñêèé";
		this->áåëîğñóêèéToolStripMenuItem->Text = "Áåëîğñóêèé";
		this->ğóññêèéToolStripMenuItem->Text = "Ğóññêèé";
		this->ñïğàâêàToolStripMenuItem->Text = "Ñïğàâêà";
		this->âûõîäToolStripMenuItem->Text = "Âûõîä";
	}

	private: System::Void àíãëToolStripMenuItem_Click(System::Object^ sender, System::EventArgs^ e)
	{
		this->Text = "Main window";
		language_now = 1;
		this->label2->Text = "Add distance between two buildings";
		this->label3->Text = "Enter vertex 1:";
		this->label4->Text = "Enter vertex 2:";
		this->label5->Text = "Enter distances between houses:";
		this->label6->Text = "Number of houses:";
		this->label7->Text = "from:";
		this->label8->Text = "to:";
		this->label9->Text = "result:";
		this->label10->Text = "time spent on the path";
		this->label11->Text = "Distance";
		this->button1->Text = "Find shortest path";
		this->button2->Text = "Input";
		this->áèğşçîâûéToolStripMenuItem->Text = "Turquoise";
		this->êğàñíûéToolStripMenuItem->Text = "Red";
		this->æ¸ëòûéToolStripMenuItem->Text = "Yellow";
		this->áåëûéToolStripMenuItem->Text = "White";
		this->öâåòÎêíàToolStripMenuItem->Text = "Window color";
		this->ÿçûêToolStripMenuItem->Text = "Language";
		this->íàñòğîéêèToolStripMenuItem->Text = "Settings";
		this->àíãëToolStripMenuItem->Text = "English";
		this->áåëîğñóêèéToolStripMenuItem->Text = "Belarusian";
		this->ğóññêèéToolStripMenuItem->Text = "Russian";
		this->ñïğàâêàToolStripMenuItem->Text = "help";
		this->âûõîäToolStripMenuItem->Text = "Exit";

	}

	private: System::Void áåëîğññóêèéToolStripMenuItem_Click(System::Object^ sender, System::EventArgs^ e)
	{
		this->Text = "Àñíî¢íàå àêíî";
		language_now = 2;
		this->label2->Text = "Äàäàöü àäëåãëàñöü ïàì³æ äâóìà áóäûíêàì³";
		this->label3->Text = "Óâÿäç³öå âåğøûíş 1:";
		this->label4->Text = "Óâÿäç³öå âåğøûíş 2:";
		this->label5->Text = "Óâÿäç³öå àäëåãëàñöü ïàì³æ äîìàì³:";
		this->label6->Text = "Êîëüêàñöü äîìà¢:";
		this->label7->Text = "àä:";
		this->label8->Text = "äà:";
		this->label9->Text = "âûí³ê:";
		this->label10->Text = "÷àñ, çàòğà÷àíû íà øëÿõ";
		this->label11->Text = "Àäëåãëàñöü";
		this->button1->Text = "Çíàéñö³ êàğîòê³ øëÿõ";
		this->button2->Text = "Óâîä";
		this->áèğşçîâûéToolStripMenuItem->Text = "Á³ğşçàâû";
		this->êğàñíûéToolStripMenuItem->Text = "×ûğâîíû";
		this->æ¸ëòûéToolStripMenuItem->Text = "Æî¢òû";
		this->áåëûéToolStripMenuItem->Text = "Áåëû";
		this->öâåòÎêíàToolStripMenuItem->Text = "Êîëåğ àêíà";
		this->ÿçûêToolStripMenuItem->Text = "Ìîâà";
		this->íàñòğîéêèToolStripMenuItem->Text = "Íàëàäû";
		this->àíãëToolStripMenuItem->Text = "Àíãë³éñêàÿ";
		this->áåëîğñóêèéToolStripMenuItem->Text = "Áåëàğóñêàÿ";
		this->ğóññêèéToolStripMenuItem->Text = "Ğóñêàÿ";
		this->ñïğàâêàToolStripMenuItem->Text = "³íñòğóêöûÿ";
		this->âûõîäToolStripMenuItem->Text = "Âûõàä";

	}

	private: System::Void button2_Click(System::Object^ sender, System::EventArgs^ e)
	{
		try
		{
			int size_array;

			// Ïğîâåğêà, ÿâëÿåòñÿ ëè òåêñòîâîå ïîëå ïóñòûì
			if (this->textBox1->Text == "")
			{
				// ×òåíèå ğàçìåğà ìàññèâà èç ôàéëà
				StreamReader^ reader1 = gcnew StreamReader(filename);
				String^ line;
				if ((line = reader1->ReadLine()) != nullptr)
				{
					array<String^>^ tokens = line->Split(' ');
					size_array = tokens->Length;
					size_array--;
				}
				reader1->Close();
			}
			else
			{
				// ×òåíèå ğàçìåğà ìàññèâà èç òåêñòîâîãî ïîëÿ
				try
				{
					size_array = Convert::ToInt32(this->textBox1->Text);
					if (size_array <= 1)
					{
						MessageBox::Show("Invalid input! Please enter a positive number.");
						return;
					}
				}
				catch (...)
				{
				}
			}

			bool sizeChanged = false;
			int oldSizeArray = 0;

			// Ïğîâåğêà, èçìåíèëîñü ëè êîëè÷åñòâî âåğøèí
			bool fileExists = File::Exists(filename);
			if (fileExists)
			{
				// ×òåíèå äàííûõ èç ôàéëà
				StreamReader^ reader = gcnew StreamReader(filename);
				String^ line;
				if ((line = reader->ReadLine()) != nullptr)
				{
					array<String^>^ tokens = line->Split(' ');
					oldSizeArray = tokens->Length;
					oldSizeArray--;
					if (size_array != oldSizeArray)
					{
						sizeChanged = true;
					}
				}
				reader->Close();
			}

			// Ñîçäàíèå íîâîãî ìàññèâà äëÿ ğàáîòû
			int** dynamicArray_for_work = new int* [size_array];
			for (int i = 0; i < size_array; i++)
			{
				dynamicArray_for_work[i] = new int[size_array];
			}

			// Ñîçäàíèå íîâîãî ìàññèâà äëÿ èçìåíåíèé
			int** dynamicArray_for_change = new int* [size_array];
			for (int i = 0; i < size_array; i++)
			{
				dynamicArray_for_change[i] = new int[size_array];
			}

			if (fileExists)
			{
				// ×òåíèå äàííûõ èç ôàéëà è çàïîëíåíèå ìàññèâîâ
				StreamReader^ reader = gcnew StreamReader(filename);
				String^ line;
				int row = 0;
				while ((line = reader->ReadLine()) != nullptr)
				{
					array<String^>^ tokens = line->Split(' ');

					for (int col = 0; col < tokens->Length - 1; col++)
					{
						int value;
						String^ token = tokens[col];
						value = Convert::ToInt32(token);
						if (value >= 0)
						{
							if (row < size_array && col < size_array)
							{
								dynamicArray_for_work[row][col] = value;
								dynamicArray_for_change[row][col] = value;
							}
						}
						else
						{
							dynamicArray_for_work[row][col] = 0;
							dynamicArray_for_change[row][col] = 0;
						}
					}
					row++;
					if (row == size_array)
					{
						break;
					}
				}
				reader->Close();
			}
			else
			{
				// Îáğàáîòêà ñëó÷àÿ îòñóòñòâèÿ ôàéëà
				// ...
			}

			// Îáğàáîòêà èçìåíåíèé ğàçìåğà ìàññèâà
			if (sizeChanged)
			{
				if (oldSizeArray > size_array)
				{
					// Êîïèğîâàíèå äàííûõ èç dynamicArray_for_change â dynamicArray_for_work òîëüêî äëÿ íîâîãî ğàçìåğà
					for (int i = 0; i < size_array; i++)
					{
						for (int j = 0; j < size_array; j++)
						{
							dynamicArray_for_work[i][j] = dynamicArray_for_change[i][j];
						}
					}
				}
				else
				{
					// Êîïèğîâàíèå äàííûõ èç dynamicArray_for_change â dynamicArray_for_work òîëüêî äëÿ ñòàğîãî ğàçìåğà
					for (int i = 0; i < oldSizeArray; i++)
					{
						for (int j = 0; j < oldSizeArray; j++)
						{
							dynamicArray_for_work[i][j] = dynamicArray_for_change[i][j];
						}
					}
				}
			}

			// Îáíîâëåíèå ìàññèâà ñ íîâûìè çíà÷åíèÿìè èç òåêñòîâûõ ïîëåé
			String^ graphFromTo = this->textBox1_1->Text;
			String^ graphSourceTarget = this->textBox2_1->Text;
			String^ distance = this->textBox_distance->Text;

			// Ïğîâåğêà ââîäà
			if (Convert::ToInt32(graphFromTo) <= 0 || Convert::ToInt32(graphSourceTarget) <= 0)
			{
				if (language_now == 0)
				{
					MessageBox::Show("Îøèáêà: Ââîä ãğàôà îñóùåñòâëÿåòñÿ ñ åäèíèöû (1)");
				}
				else if (language_now == 1)
				{
					MessageBox::Show("Error: Graph input is performed from one (1)");
				}
				else if (language_now == 2)
				{
					MessageBox::Show("Ïàìûëêà: Óâîä ãğàôà çäçÿéñíÿåööà ç àäç³íê³ (1)");
				}
				return;
			}
			if (Convert::ToInt32(graphFromTo) > size_array || Convert::ToInt32(graphSourceTarget) > size_array)
			{
				if (language_now == 0)
				{
					MessageBox::Show("Îøèáêà: Íà÷àëî èëè êîíåö ãğàôà ïğåâûøàåò çíà÷åíèå åãî ğàçìåğíîñòè");
				}
				else if (language_now == 1)
				{
					MessageBox::Show("Error: Start or end of the graph exceeds its size");
				}
				else if (language_now == 2)
				{
					MessageBox::Show("Ïàìûëêà: Ïà÷àòàê àáî êàíåö ãğàôà ïåğàâûøàå çíà÷ıííå ÿãî ïàìåğó");
				}
				return;
			}
			if (graphFromTo == graphSourceTarget)
			{
				if (language_now == 0)
				{
					MessageBox::Show("Ââîä íåâîçìîæåí òàê êàê âû óæå íàõîäèòåñü â ıòîé òî÷êå");
				}
				else if (language_now == 1)
				{
					MessageBox::Show("Input is not possible as you are already at this point");
				}
				else if (language_now == 2)
				{
					MessageBox::Show("Óâîä íåìàã÷ûìû, áî âû ¢æî çíàõîäç³öåñÿ ¢ ãıòàé êğîïöû");
				}
				return;
			}
			if (Convert::ToInt32(distance) <= 0)
			{
				if (language_now == 0)
				{
					MessageBox::Show("Ğàññòîÿíèå ìåæäó äîìàìè íå ìîæåò áûòü ğàâíî 0 èëè áûòü îòğèöàòåëüíûì");
				}
				else if (language_now == 1)
				{
					MessageBox::Show("Distance between houses cannot be equal to 0 or negative");
				}
				else if (language_now == 2)
				{
					MessageBox::Show("Àäëåãëàñöü ïàì³æ äîìàì³ íå ìîæà áûöü ğî¢íàé 0 àáî àäìî¢íàé");
				}
				return;
			}

			// Îáíîâëåíèå çíà÷åíèé â ìàññèâå
			dynamicArray_for_work[Convert::ToInt32(graphFromTo) - 1][Convert::ToInt32(graphSourceTarget) - 1] = Convert::ToInt32(distance);
			dynamicArray_for_work[Convert::ToInt32(graphSourceTarget) - 1][Convert::ToInt32(graphFromTo) - 1] = Convert::ToInt32(distance);

			// Çàïèñü ìàññèâà îáğàòíî â ôàéë
			StreamWriter^ sw = gcnew StreamWriter(filename);
			for (int i = 0; i < size_array; i++)
			{
				for (int j = 0; j < size_array; j++)
				{
					if (dynamicArray_for_work[i][j] <= 0)
					{
						sw->Write("0 ");
					}
					else
					{
						sw->Write(dynamicArray_for_work[i][j] + " ");
					}
				}
				sw->WriteLine();
			}
			sw->Close();

			// Îòğèñîâêà ãğàôà íà ïàíåëè
			Panel^ graphPanel = this->panel1;
			Graphics^ g = graphPanel->CreateGraphics();
			g->Clear(Color::White);  // Î÷èñòêà îáëàñòè ğèñîâàíèÿ ïåğåä îòğèñîâêîé
			DrawGraph(g, dynamicArray_for_work, size_array);

			// Îñâîáîæäåíèå ïàìÿòè
			for (int i = 0; i < size_array; i++)
			{
				delete[] dynamicArray_for_work[i];
			}
			delete[] dynamicArray_for_work;

			for (int i = 0; i < size_array; i++)
			{
				delete[] dynamicArray_for_change[i];
			}
			delete[] dynamicArray_for_change;
		}
		catch (...)
		{
			// Îáğàáîòêà îøèáîê ïğè ââîäå â òåêñòîâîå ïîëå
			if (language_now == 0)
			{
				MessageBox::Show("Îøèáêà ïğè ââîäå â òåêñòîâîå ïîëå");
			}
			else if (language_now == 1)
			{
				MessageBox::Show("Error when entering into textbox");
			}
			else if (language_now == 2)
			{
				MessageBox::Show("Ïàìûëêà ïğû ¢âîäçå ¢ òıêñòàâàå ïîëå");
			}
		}
	}
	private: System::Void button1_Click(System::Object^ sender, System::EventArgs^ e)
	{
		try
		{
			// ×òåíèå ğàçìåğíîñòè ãğàôà èç ôàéëà
			StreamReader^ reader1 = gcnew StreamReader(filename);
			String^ line;
			int size_array;
			if ((line = reader1->ReadLine()) != nullptr)
			{
				array<String^>^ tokens = line->Split(' ');
				size_array = tokens->Length;
				size_array--;
			}
			reader1->Close();

			// Ïîëó÷åíèå íà÷àëüíîé è êîíå÷íîé òî÷åê èç òåêñòîâûõ ïîëåé
			int begin_index, end_index;
			begin_index = Convert::ToInt32(this->textBox2->Text);
			end_index = Convert::ToInt32(this->textBox3->Text);

			// Ïğîâåğêà íàëè÷èÿ òî÷åê â ãğàôå
			if (begin_index == end_index)
			{
				if (language_now == 0)
				{
					MessageBox::Show("Âû óæå íàõîäèòåñü â ıòîé òî÷êå");
				}
				else if (language_now == 1)
				{
					MessageBox::Show("You are already at this point");
				}
				else if (language_now == 2)
				{
					MessageBox::Show("Âû ¢æî çíàõîäç³öåñÿ ¢ ãıòàé êğîïöû");
				}
				this->textBox4->Clear();
				this->textBox5->Clear();
				this->textBox6->Clear();
				return;
			}

			// Ïğîâåğêà ââîäà íà÷àëüíîé è êîíå÷íîé òî÷åê
			if (begin_index <= 0 || end_index <= 0)
			{
				if (language_now == 0)
				{
					MessageBox::Show("Îøèáêà: Íà÷àëî èëè êîíåö ãğàôà íå ìîæåò áûòü ğàâåí 0 èëè îòğèöàòåëüíîìó ÷èñëó");
				}
				else if (language_now == 1)
				{
					MessageBox::Show("Error: Start or end of the graph cannot be equal to or less than 0");
				}
				else if (language_now == 2)
				{
					MessageBox::Show("Ïàìûëêà: Ïà÷àòàê àáî êàíåö ãğàôà íå ìîæà áûöü ğî¢íû 0 àáî àäìî¢íûì ë³êàì");
				}
				this->textBox4->Clear();
				this->textBox5->Clear();
				this->textBox6->Clear();
				return;
			}

			// Ïğîâåğêà íàëè÷èÿ íà÷àëüíîé è êîíå÷íîé òî÷åê â ãğàôå
			if (begin_index > size_array || end_index > size_array)
			{
				if (language_now == 0)
				{
					MessageBox::Show("Îøèáêà: Íà÷àëî èëè êîíåö ãğàôà ïğåâûøàåò çíà÷åíèå åãî ğàçìåğíîñòè");
				}
				else if (language_now == 1)
				{
					MessageBox::Show("Error: Start or end of the graph exceeds its size");
				}
				else if (language_now == 2)
				{
					MessageBox::Show("Ïàìûëêà: Ïà÷àòàê àáî êàíåö ãğàôà ïåğàâûøàå çíà÷ıííå ÿãî ïàìåğó");
				}
				this->textBox4->Clear();
				this->textBox5->Clear();
				this->textBox6->Clear();
				return;
			}

			// Ñîçäàíèå äâóìåğíîãî ìàññèâà äëÿ õğàíåíèÿ ãğàôà
			int** dynamicArray = new int* [size_array];
			for (int i = 0; i < size_array; i++)
			{
				dynamicArray[i] = new int[size_array];
			}

			// ×òåíèå ãğàôà èç ôàéëà è çàïîëíåíèå ìàññèâà
			StreamReader^ reader2 = gcnew StreamReader(filename);
			int row = 0;
			while ((line = reader2->ReadLine()) != nullptr)
			{
				array<String^>^ tokens = line->Split(' ');

				for (int col = 0; col < tokens->Length - 1; col++)
				{
					int value;
					String^ token = tokens[col];
					value = Convert::ToInt32(token);
					if (value >= 0)
					{
						if (row < size_array && col < size_array)
						{
							dynamicArray[row][col] = value;
						}
					}
					else
					{
						dynamicArray[row][col] = 0;
					}
				}
				row++;
				if (row == size_array)
				{
					break;
				}
			}
			reader2->Close();

			// Âûïîëíåíèå àëãîğèòìà Äåéêñòğû
			dijkstra(dynamicArray, size_array, begin_index - 1, end_index - 1);

			// Îñâîáîæäåíèå ïàìÿòè, âûäåëåííîé äëÿ ìàññèâà
			for (int i = 0; i < size_array; i++)
			{
				delete[] dynamicArray[i];
			}
			delete[] dynamicArray;
		}
		catch (...)
		{
			// Îáğàáîòêà îøèáîê
		}
	}

	private: System::Void panel1_Paint(System::Object^ sender, System::Windows::Forms::PaintEventArgs^ e)
	{
		int size_array = 0;
		bool sizeChanged = false;
		int oldSizeArray = 0;

		// ×òåíèå ğàçìåğíîñòè ãğàôà èç ôàéëà
		StreamReader^ reader = gcnew StreamReader(filename);
		String^ line;
		if ((line = reader->ReadLine()) != nullptr)
		{
			array<String^>^ tokens = line->Split(' ');
			oldSizeArray = tokens->Length;
			oldSizeArray--;
			if (size_array != oldSizeArray)
			{
				sizeChanged = true;
				size_array = oldSizeArray;  // Ïğèñâàèâàíèå çíà÷åíèÿ ïåğåìåííîé size_array
			}
		}
		reader->Close();

		// Ñîçäàíèå íîâîãî ìàññèâà äëÿ ğàáîòû
		int** dynamicArray_for_work = new int* [size_array];
		for (int i = 0; i < size_array; i++)
		{
			dynamicArray_for_work[i] = new int[size_array];
		}

		// ×òåíèå äàííûõ èç ôàéëà è çàïîëíåíèå ìàññèâà
		reader = gcnew StreamReader(filename);  // Ïåğåèñïîëüçóåì ïåğåìåííóş reader
		int row = 0;
		while ((line = reader->ReadLine()) != nullptr)
		{
			array<String^>^ tokens = line->Split(' ');

			for (int col = 0; col < tokens->Length - 1; col++)  // Èçìåíåíî óñëîâèå öèêëà
			{
				int value;
				String^ token = tokens[col];
				value = Convert::ToInt32(token);
				if (value >= 0)
				{
					if (row < size_array && col < size_array)
					{
						dynamicArray_for_work[row][col] = value;
					}
				}
				else
				{
					dynamicArray_for_work[row][col] = 0;
				}
			}
			row++;
			if (row == size_array)
			{
				break;
			}
		}
		reader->Close();

		// Ïîëó÷åíèå îáúåêòà Graphics äëÿ ïàíåëè
		Graphics^ g = panel1->CreateGraphics();

		// Âûçîâ ôóíêöèè îòğèñîâêè ãğàôà
		DrawGraph(g, dynamicArray_for_work, size_array);

		// Îñâîáîæäåíèå ïàìÿòè, âûäåëåííîé äëÿ ìàññèâà
		for (int i = 0; i < size_array; i++)
		{
			delete[] dynamicArray_for_work[i];
		}
		delete[] dynamicArray_for_work;
	}

	private: System::Void ñïğàâêàToolStripMenuItem_Click(System::Object^ sender, System::EventArgs^ e)
	{
		// Îòêğûòèå ôàéëà ñïğàâêè
		if (language_now == 0)
		{
			system(("start " + std::string("ÑïğàâêàRU.chm")).c_str());
		}
		else if (language_now == 1)
		{
			system(("start " + std::string("ÑïğàâêàEN.chm")).c_str());
		}
		else if (language_now == 2)
		{
			system(("start " + std::string("ÑïğàâêàBL.chm")).c_str());
		}
		
	}

	private: System::Void âûõîäToolStripMenuItem_Click(System::Object^ sender, System::EventArgs^ e) 
	{
		exit(0);
	}
};
}